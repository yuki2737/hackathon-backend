"use strict";
var import_chunk_ICFLO5JW = require("../../chunk-ICFLO5JW.js");
var import_chunk_4VNS5WPM = require("../../chunk-4VNS5WPM.js");
var originalEnv = { ...process.env };
function restoreEnv() {
  for (const key of Object.keys(process.env)) {
    if (!(key in originalEnv)) {
      delete process.env[key];
    }
  }
  for (const [key, value] of Object.entries(originalEnv)) {
    if (value === void 0) {
      delete process.env[key];
    } else {
      process.env[key] = value;
    }
  }
}
describe("isInteractive", () => {
  beforeEach(() => {
    restoreEnv();
  });
  afterAll(() => {
    restoreEnv();
  });
  describe("in non TTY environment", () => {
    const mockedValue = { isTTY: false };
    test("isInteractive should be false", () => {
      expect((0, import_chunk_ICFLO5JW.isInteractive)({ stream: mockedValue })).toBe(false);
    });
    test("isInteractive should be false if TERM = dumb", () => {
      process.env.TERM = "dumb";
      expect((0, import_chunk_ICFLO5JW.isInteractive)({ stream: mockedValue })).toBe(false);
    });
  });
  describe("in TTY environment", () => {
    const mockedValue = { isTTY: true };
    test("isInteractive should be true", () => {
      expect((0, import_chunk_ICFLO5JW.isInteractive)({ stream: mockedValue })).toBe(true);
    });
    test("isInteractive should be false if TERM = dumb", () => {
      process.env.TERM = "dumb";
      expect((0, import_chunk_ICFLO5JW.isInteractive)({ stream: mockedValue })).toBe(false);
    });
  });
});
